(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const t=function(t){var n=function(e){e.querySelectorAll("input").forEach((function(e){e.value=""}))},o=document.getElementById(t),r=document.createElement("div");r.style.cssText="font-size:2em;",o.addEventListener("submit",(function(t){t.preventDefault(),o.appendChild(r),r.textContent="Loading...";var a,c,l={},u=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function(){o=o.call(t)},n:function(){var e=o.next();return l=e.done,e},e:function(e){u=!0,c=e},f:function(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}(new FormData(o).entries());try{for(u.s();!(a=u.n()).done;){var i=a.value;l[i[0]]=i[1]}}catch(e){u.e(e)}finally{u.f()}(c=l,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).then((function(e){if(200!==e.status||o.querySelector('[name="user_name"]').value.length<2)throw new Error("Couldn't send any data");n(o),r.textContent="Completed",setTimeout((function(){r.remove()}),1e3)})).catch((function(e){r.textContent="Name is too short",n(o),setTimeout((function(){r.remove()}),1e3)}))}))};window.addEventListener("DOMContentLoaded",(function(){var e,n,o,r,a,c,l,u,i,s,d,v,m,f,y,p,h,g,S,q;h="21 september 2021",g=document.querySelector("#timer-hours"),S=document.querySelector("#timer-minutes"),q=document.querySelector("#timer-seconds"),function e(){var t,n,o=(t=(new Date(h).getTime()-(new Date).getTime())/1e3,(n=[Math.floor(t%60),Math.floor(t/60%60),Math.floor(t/60/60)]).forEach((function(e,t){e<10&&(n[t]="0"+e)})),{seconds:n[0],minutes:n[1],hours:n[2],timeRemaining:t});g.textContent=o.hours,q.textContent=o.seconds,S.textContent=o.minutes,o.timeRemaining>0?setTimeout(e,1e3):o.timeRemaining<=0&&(g.textContent="00",q.textContent="00",S.textContent="00")}(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=document.querySelector(".close-btn"),n=(e.querySelectorAll("ul>li"),function(){e.classList.toggle("active-menu")});t.addEventListener("click",(function(e){e.preventDefault(),n()})),document.addEventListener("click",(function(o){var r=o.target;(r.closest(".menu")||r.matches(".close-btn")||r.closest("ul>li>a"))&&r!==t?n():!e.classList.contains("active-menu")||r.closest("menu")&&r!==t||n()}))}(),m=function(){return document.defaultView.innerWidth>768},f=document.querySelector(".popup"),y=document.querySelector(".popup-close"),p=document.querySelectorAll(".popup-btn"),y.addEventListener("click",(function(){if(m())var e=1,t=setInterval((function(){e<0?(clearInterval(t),f.style.display="none"):e<=1&&(requestAnimationFrame((function(){f.style.opacity=e})),e-=.1)}),1);else f.style.display="none"})),f.addEventListener("click",(function(e){if(!e.target.closest(".popup-content"))if(m())var t=1,n=setInterval((function(){t<0?(clearInterval(n),f.style.display="none"):t<=1&&(requestAnimationFrame((function(){f.style.opacity=t})),t-=.1)}),1);else f.style.display="none"})),p.forEach((function(e){e.addEventListener("click",(function(){if(m()){var e=0;f.style.display="block",f.style.opacity="0";var t=setInterval((function(){e>1?clearInterval(t):e<=1&&(requestAnimationFrame((function(){f.style.opacity=e})),e+=.1)}),1)}else f.style.display="block"}))})),document.querySelectorAll("a").forEach((function(e){"http://localhost:8888/timer/#service-block"===e.href&&e.addEventListener("click",(function(e){e.preventDefault(),window.screenTop=100}))})),s=document.querySelector(".service-header"),d=s.querySelectorAll(".service-header-tab"),v=document.querySelectorAll(".service-tab"),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&d.forEach((function(e,n){e===t&&function(e){for(var t=0;t<v.length;t++)e===t?(d[t].classList.add("active"),v[t].classList.remove("d-none")):(d[t].classList.remove("active"),v[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),n=document.querySelector(".portfolio-dots"),o=document.createElement("li");o.classList.add("dot");for(var r=0;r<e.length;r++){var a=o.cloneNode();0===r?(a.classList.add("dot-active"),n.append(a)):n.append(a)}var c,l=document.querySelectorAll(".dot"),u=0,i=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},d=function(){i(e,u,"portfolio-item-active"),i(l,u,"dot-active"),++u>=e.length&&(u=0),s(e,u,"portfolio-item-active"),s(l,u,"dot-active")},v=function(){c=setInterval(d,arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".next, .prev, .dot")&&(i(e,u,"portfolio-item-active"),i(l,u,"dot-active"),n.matches(".next")?u++:n.matches(".prev")?u--:n.matches(".dot")&&l.forEach((function(e,t){e===n&&(u=t)})),u>=e.length?u=0:u<0&&(u=e.length-1),s(e,u,"portfolio-item-active"),s(l,u,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&v()})),v(2e3)}(),u=document.querySelector(".command").querySelectorAll(".command__photo"),i=new Array,u.forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target,n=t.src,o=t.dataset.img;i=[n,o],t.src=i[1],t.dataset.img=i[0]})),e.addEventListener("mouseleave",(function(e){var t=e.target,n=t.src,o=t.dataset.img;i=[n,o],t.src=i[1],t.dataset.img=i[0]}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item"),n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),l=document.getElementById("total"),u=function(){var t=0,n=1,u=1,i=+o.options[o.selectedIndex].value,s=+r.value;l.textContent=0,c.value>1&&(n+=(c.value-1)/10),c.value&&a.value<5?u*=2:c.value&&a<10&&(u*=1.5),i&&s&&(t=e*i*s*n*u),l.textContent=Math.ceil(t)};t.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/,"")}))}));var i=function(){t.forEach((function(e){e.value=""}))};n.addEventListener("change",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-day")||t.matches(".calc-count"))&&(o.value||i(),u())}))}(100),e=document.querySelector("#form2-name"),n=document.querySelector("#form2-message"),o=document.querySelector("#form2-email"),r=document.querySelector("#form2-phone"),a=function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim(),t.value=t.value.replace(/([а-я])?[А-Яа-яЁё]*/g,(function(e,t){return t?t.toUpperCase()+e.substr(1):e}))},c=function(e){var t=e.target;t.value.match(/[A-z!._-~*'0-9]+@[A-z.]+/gi)?(t.value=t.value.replace(/\s/g,""),t.value=t.value.trim(),t.value=t.value.replace(/-{2,10000}/g,"-")):t.value=""},l=function(e){var t=e.target;if(t.value=t.value.replace(/[^0-9()-+]/gi,""),t.value=t.value.replace(/(\-){2,10000}/g,"-"),t.value=t.value.trim(),console.log(t.value.length),t.value.length>12)t.value="";else{if(12===t.value.length&&"+"===t.value[0]||11===t.value.length&&"+"!==t.value[0])return;t.value=""}},e.addEventListener("blur",a),document.querySelector(".form-name").addEventListener("blur",a),n.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim()})),o.addEventListener("blur",c),document.querySelector(".form-email").addEventListener("blur",c),r.addEventListener("blur",l),document.querySelector(".form-phone").addEventListener("blur",l),t("form1"),t("form2"),t("form3")}))})();