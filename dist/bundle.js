(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const t=function(t){var n=function(e){e.querySelectorAll("input").forEach((function(e){e.value=""}))},o=document.getElementById(t),a=document.createElement("div");a.style.cssText="font-size:2em;",o.addEventListener("submit",(function(t){t.preventDefault(),o.appendChild(a),a.textContent="Loading...";var r,c,i={},l=function(t,n){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var e=o.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==o.return||o.return()}finally{if(l)throw c}}}}(new FormData(o).entries());try{for(l.s();!(r=l.n()).done;){var u=r.value;i[u[0]]=u[1]}}catch(e){l.e(e)}finally{l.f()}(c=i,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).then((function(e){if(200!==e.status)throw new Error("Couldn't send any data");o.querySelectorAll("input").forEach((function(e){if(e.classList.contains("unactive"))throw new Error("Some of the data is invalid")})),n(o),a.textContent="Completed",setTimeout((function(){a.remove()}),1e3)})).catch((function(e){a.textContent=e,n(o),o.querySelectorAll("input").forEach((function(e){e.classList.contains("unactive")&&e.classList.remove("unactive")})),setTimeout((function(){a.remove()}),2e3)}))}))};window.addEventListener("DOMContentLoaded",(function(){var e,n,o,a,r,c,i,l,u,s,v,d,m,f,y,p,h,g,L,S;h="12 september 2021",g=document.querySelector("#timer-hours"),L=document.querySelector("#timer-minutes"),S=document.querySelector("#timer-seconds"),function e(){var t,n,o=(t=(new Date(h).getTime()-(new Date).getTime())/1e3,(n=[Math.floor(t%60),Math.floor(t/60%60),Math.floor(t/60/60)]).forEach((function(e,t){e<10&&(n[t]="0"+e)})),{seconds:n[0],minutes:n[1],hours:n[2],timeRemaining:t});g.textContent=o.hours,S.textContent=o.seconds,L.textContent=o.minutes,o.timeRemaining>0?setTimeout(e,1e3):o.timeRemaining<=0&&(g.textContent="00",S.textContent="00",L.textContent="00")}(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=document.querySelector(".close-btn"),n=(e.querySelectorAll("ul>li"),function(){e.classList.toggle("active-menu")});t.addEventListener("click",(function(e){e.preventDefault(),n()})),document.addEventListener("click",(function(o){var a=o.target;(a.closest(".menu")||a.matches(".close-btn")||a.closest("ul>li>a"))&&a!==t?n():!e.classList.contains("active-menu")||a.closest("menu")&&a!==t||n()}))}(),m=function(){return document.defaultView.innerWidth>768},f=document.querySelector(".popup"),y=document.querySelector(".popup-close"),p=document.querySelectorAll(".popup-btn"),y.addEventListener("click",(function(){if(m())var e=1,t=setInterval((function(){e<0?(clearInterval(t),f.style.display="none"):e<=1&&(requestAnimationFrame((function(){f.style.opacity=e})),e-=.1)}),1);else f.style.display="none"})),f.addEventListener("click",(function(e){if(!e.target.closest(".popup-content"))if(m())var t=1,n=setInterval((function(){t<0?(clearInterval(n),f.style.display="none"):t<=1&&(requestAnimationFrame((function(){f.style.opacity=t})),t-=.1)}),1);else f.style.display="none"})),p.forEach((function(e){e.addEventListener("click",(function(){if(m()){var e=0;f.style.display="block",f.style.opacity="0";var t=setInterval((function(){e>1?clearInterval(t):e<=1&&(requestAnimationFrame((function(){f.style.opacity=e})),e+=.1)}),1)}else f.style.display="block"}))})),document.querySelectorAll("a").forEach((function(e){"http://localhost:8888/timer/#service-block"===e.href&&e.addEventListener("click",(function(e){e.preventDefault(),window.screenTop=100}))})),s=document.querySelector(".service-header"),v=s.querySelectorAll(".service-header-tab"),d=document.querySelectorAll(".service-tab"),s.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&v.forEach((function(e,n){e===t&&function(e){for(var t=0;t<d.length;t++)e===t?(v[t].classList.add("active"),d[t].classList.remove("d-none")):(v[t].classList.remove("active"),d[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),n=document.querySelector(".portfolio-dots"),o=document.createElement("li");o.classList.add("dot");for(var a=0;a<e.length;a++){var r=o.cloneNode();0===a?(r.classList.add("dot-active"),n.append(r)):n.append(r)}var c,i=document.querySelectorAll(".dot"),l=0,u=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},v=function(){u(e,l,"portfolio-item-active"),u(i,l,"dot-active"),++l>=e.length&&(l=0),s(e,l,"portfolio-item-active"),s(i,l,"dot-active")},d=function(){c=setInterval(v,arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".next, .prev, .dot")&&(u(e,l,"portfolio-item-active"),u(i,l,"dot-active"),n.matches(".next")?l++:n.matches(".prev")?l--:n.matches(".dot")&&i.forEach((function(e,t){e===n&&(l=t)})),l>=e.length?l=0:l<0&&(l=e.length-1),s(e,l,"portfolio-item-active"),s(i,l,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(2e3)}(),l=document.querySelector(".command").querySelectorAll(".command__photo"),u=new Array,l.forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target,n=t.src,o=t.dataset.img;u=[n,o],t.src=u[1],t.dataset.img=u[0]})),e.addEventListener("mouseleave",(function(e){var t=e.target,n=t.src,o=t.dataset.img;u=[n,o],t.src=u[1],t.dataset.img=u[0]}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item"),n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),a=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),i=document.getElementById("total"),l=function(){var t=0,n=1,l=1,u=+o.options[o.selectedIndex].value,s=+a.value;i.textContent=0,c.value>1&&(n+=(c.value-1)/10),c.value&&r.value<5?l*=2:c.value&&r<10&&(l*=1.5),u&&s&&(t=e*u*s*n*l),i.textContent=Math.ceil(t)};t.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/,"")}))}));var u=function(){t.forEach((function(e){e.value=""}))};n.addEventListener("change",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-day")||t.matches(".calc-count"))&&l()})),o.addEventListener("change",(function(){o.value||u()}))}(100),e=document.querySelector("#form2-name"),n=document.querySelector("#form2-message"),o=document.querySelector("#form2-email"),a=document.querySelector("#form2-phone"),r=function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim(),t.value=t.value.replace(/([а-я])?[А-Яа-яЁё]*/g,(function(e,t){return t?t.toUpperCase()+e.substr(1):e})),t.value&&(t.value.length<=2?t.classList.contains("unactive")||t.classList.add("unactive"):t.value.length>2&&t.classList.contains("unactive")&&t.classList.remove("unactive"))},c=function(e){var t=e.target;t.value.match(/[A-z!._-~*'0-9]+@[A-z.]+/gi)?(t.value=t.value.replace(/\s/g,""),t.value=t.value.trim(),t.value=t.value.replace(/-{2,10000}/g,"-"),t.classList.contains("unactive")&&t.classList.remove("unactive")):t.classList.contains("unactive")||t.classList.add("unactive")},i=function(e){var t=e.target;if(t.value=t.value.replace(/[^0-9()-+]/gi,""),t.value=t.value.replace(/(\-){2,10000}/g,"-"),t.value=t.value.trim(),!(t.value.length>12))return 12===t.value.length&&"+"===t.value[0]||11===t.value.length&&"+"!==t.value[0]?void(t.classList.contains("unactive")&&t.classList.remove("unactive")):void(t.classList.contains("unactive")||t.classList.add("unactive"));t.value=""},e.addEventListener("blur",r),document.querySelector(".form-name").addEventListener("blur",r),n.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim()})),o.addEventListener("blur",c),document.querySelector(".form-email").addEventListener("blur",c),a.addEventListener("blur",i),document.querySelector(".form-phone").addEventListener("blur",i),t("form1"),t("form2"),t("form3")}))})();