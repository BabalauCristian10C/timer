(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const t=function(){var t=document.querySelector("#form1-name"),n=document.querySelector("#form2-message"),r=document.querySelector("#form1-email"),o=document.querySelector("#form1-phone"),a=document.querySelector("#form2-name"),c=document.querySelector("#form2-email"),i=document.querySelector("#form2-phone"),l=(document.querySelector("#form3-name"),document.querySelector("#form3-email"),document.querySelector("#form3-phone"),function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim(),t.value=t.value.replace(/([а-я])?[А-Яа-яЁё]*/g,(function(e,t){return t?t.toUpperCase()+e.substr(1):e})),t.value&&(t.value.length<2?t.classList.contains("unactive")||t.classList.add("unactive"):t.value.length>1&&t.classList.contains("unactive")&&t.classList.remove("unactive"))}),u=function(e){var t=e.target;t.value.match(/[A-z!._-~*'0-9]+@[A-z.]+/gi)?(t.value=t.value.replace(/\s/g,""),t.value=t.value.trim(),t.value=t.value.replace(/-{2,10000}/g,"-"),t.classList.contains("unactive")&&t.classList.remove("unactive")):t.classList.contains("unactive")||t.classList.add("unactive")},s=function(t){var n=t.target,r=0;n.value=n.value.replace(/[^0-9()-+]/gi,""),n.value=n.value.replace(/(\-){2,10000}/g,"-"),n.value=n.value.trim();var o,a=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw c}}}}(n.value);try{for(a.s();!(o=a.n()).done;)o.value.match(/[0-9]/i)&&r++}catch(e){a.e(e)}finally{a.f()}console.log(r),11===r?n.classList.contains("unactive")&&n.classList.remove("unactive"):n.classList.contains("unactive")||n.classList.add("unactive")};t.addEventListener("blur",l),a.addEventListener("blur",l),document.querySelector("#form3-name").addEventListener("blur",l),n.addEventListener("blur",(function(e){var t=e.target;t.value=t.value.replace(/[^А-Яа-яЁё\s]/gi,""),t.value=t.value.replace(/\s{2,10000}/g," "),t.value=t.value.trim()})),r.addEventListener("blur",u),c.addEventListener("blur",u),document.querySelector("#form3-email").addEventListener("blur",u),o.addEventListener("blur",s),i.addEventListener("blur",s),document.querySelector("#form3-phone").addEventListener("blur",s)};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const r=function(e){var t=function(e){e.querySelectorAll("input").forEach((function(e){e.value=""}))},r=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size:2em; color:white;",r.addEventListener("submit",(function(e){var a=!0;e.preventDefault(),r.appendChild(o),o.textContent="Loading...";var c,i,l={},u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,c=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw c}}}}(new FormData(r).entries());try{for(u.s();!(c=u.n()).done;){var s=c.value;l[s[0]]=s[1]}}catch(e){u.e(e)}finally{u.f()}r.querySelectorAll("input").forEach((function(e){e.classList.contains("unactive")&&(a=!1)})),a?(i=l,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).then((function(e){if(200!==e.status)throw new Error("Couldn't send any data");t(r),o.textContent="Completed",setTimeout((function(){o.remove()}),1e3)})).catch((function(e){o.textContent=e,t(r),r.querySelectorAll("input").forEach((function(e){e.classList.contains("unactive")&&e.classList.remove("unactive")})),setTimeout((function(){o.remove()}),2e3)})):o.textContent="Some data is incorect"}))};window.addEventListener("DOMContentLoaded",(function(){var e,n,o,a,c,i,l,u,s,d,v,m,f;d="12 september 2021",v=document.querySelector("#timer-hours"),m=document.querySelector("#timer-minutes"),f=document.querySelector("#timer-seconds"),function e(){var t,n,r=(t=(new Date(d).getTime()-(new Date).getTime())/1e3,(n=[Math.floor(t%60),Math.floor(t/60%60),Math.floor(t/60/60)]).forEach((function(e,t){e<10&&(n[t]="0"+e)})),{seconds:n[0],minutes:n[1],hours:n[2],timeRemaining:t});v.textContent=r.hours,f.textContent=r.seconds,m.textContent=r.minutes,r.timeRemaining>0?setTimeout(e,1e3):r.timeRemaining<=0&&(v.textContent="00",f.textContent="00",m.textContent="00")}(),function(){document.querySelector(".menu");var e=document.querySelector("menu"),t=document.querySelector(".close-btn"),n=(e.querySelectorAll("ul>li"),function(){e.classList.toggle("active-menu")});t.addEventListener("click",(function(e){e.preventDefault(),n()})),document.addEventListener("click",(function(r){var o=r.target;(o.closest(".menu")||o.matches(".close-btn")||o.closest("ul>li>a"))&&o!==t?n():!e.classList.contains("active-menu")||o.closest("menu")&&o!==t||n()}))}(),i=function(){return document.defaultView.innerWidth>768},l=document.querySelector(".popup"),u=document.querySelector(".popup-close"),s=document.querySelectorAll(".popup-btn"),u.addEventListener("click",(function(){if(i())var e=1,t=setInterval((function(){e<0?(clearInterval(t),l.style.display="none"):e<=1&&(requestAnimationFrame((function(){l.style.opacity=e})),e-=.1)}),1);else l.style.display="none"})),l.addEventListener("click",(function(e){if(!e.target.closest(".popup-content"))if(i())var t=1,n=setInterval((function(){t<0?(clearInterval(n),l.style.display="none"):t<=1&&(requestAnimationFrame((function(){l.style.opacity=t})),t-=.1)}),1);else l.style.display="none"})),s.forEach((function(e){e.addEventListener("click",(function(){if(i()){var e=0;l.style.display="block",l.style.opacity="0";var t=setInterval((function(){e>1?clearInterval(t):e<=1&&(requestAnimationFrame((function(){l.style.opacity=e})),e+=.1)}),1)}else l.style.display="block"}))})),document.querySelectorAll("a").forEach((function(e){"http://localhost:8888/timer/#service-block"===e.href&&e.addEventListener("click",(function(e){e.preventDefault(),window.screenTop=100}))})),o=document.querySelector(".service-header"),a=o.querySelectorAll(".service-header-tab"),c=document.querySelectorAll(".service-tab"),o.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&a.forEach((function(e,n){e===t&&function(e){for(var t=0;t<c.length;t++)e===t?(a[t].classList.add("active"),c[t].classList.remove("d-none")):(a[t].classList.remove("active"),c[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),n=document.querySelector(".portfolio-dots"),r=document.createElement("li");r.classList.add("dot");for(var o=0;o<e.length;o++){var a=r.cloneNode();0===o?(a.classList.add("dot-active"),n.append(a)):n.append(a)}var c,i=document.querySelectorAll(".dot"),l=0,u=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},d=function(){u(e,l,"portfolio-item-active"),u(i,l,"dot-active"),++l>=e.length&&(l=0),s(e,l,"portfolio-item-active"),s(i,l,"dot-active")},v=function(){c=setInterval(d,arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3)};t.addEventListener("click",(function(t){t.preventDefault();var n=t.target;n.matches(".next, .prev, .dot")&&(u(e,l,"portfolio-item-active"),u(i,l,"dot-active"),n.matches(".next")?l++:n.matches(".prev")?l--:n.matches(".dot")&&i.forEach((function(e,t){e===n&&(l=t)})),l>=e.length?l=0:l<0&&(l=e.length-1),s(e,l,"portfolio-item-active"),s(i,l,"dot-active"))})),t.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(c)})),t.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&v()})),v(2e3)}(),e=document.querySelector(".command").querySelectorAll(".command__photo"),n=new Array,e.forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target,r=t.src,o=t.dataset.img;n=[r,o],t.src=n[1],t.dataset.img=n[0]})),e.addEventListener("mouseleave",(function(e){var t=e.target,r=t.src,o=t.dataset.img;n=[r,o],t.src=n[1],t.dataset.img=n[0]}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelectorAll(".calc-item"),n=document.querySelector(".calc-block"),r=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),c=document.querySelector(".calc-count"),i=document.getElementById("total"),l=function(){var t=0,n=1,l=1,u=+r.options[r.selectedIndex].value,s=+o.value;i.textContent=0,c.value>1&&(n+=(c.value-1)/10),c.value&&a.value<5?l*=2:c.value&&a<10&&(l*=1.5),u&&s&&(t=e*u*s*n*l),i.textContent=Math.ceil(t)};t.forEach((function(e){e.addEventListener("input",(function(e){var t=e.target;t.value=t.value.replace(/[^0-9]/,"")}))}));var u=function(){t.forEach((function(e){e.value=""}))};n.addEventListener("change",(function(e){var t=e.target;(t.matches(".calc-type")||t.matches(".calc-square")||t.matches(".calc-day")||t.matches(".calc-count"))&&l()})),r.addEventListener("change",(function(){r.value||u()}))}(100),t(),r("form1"),r("form2"),r("form3")}))})();